<!DOCTYPE html>
<html>
<head>
    <title>Google Drive</title>
    <link rel="icon" href="https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png">
    <style>
        :root { --bg: #020617; --card: #0f172a; --accent: #3b82f6; --text: #f8fafc; --term: #4ade80; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; background-size: cover; background-position: center; background-attachment: fixed; }
        
        /* AUTH */
        #authLayer { position: fixed; inset: 0; background: #000; z-index: 100000; display: flex; align-items: center; justify-content: center; background-image: radial-gradient(circle at center, #111 0%, #000 100%); }
        .login-box { width: 400px; padding: 40px; background: rgba(15, 23, 42, 0.95); border: 1px solid #1e293b; border-radius: 20px; text-align: center; box-shadow: 0 0 50px rgba(59, 130, 246, 0.2); }
        .hacker-title { font-family: monospace; font-size: 3rem; color: var(--accent); margin: 0; text-shadow: 0 0 15px var(--accent); }
        .input-field { width: 100%; padding: 15px; margin: 15px 0; background: #000; border: 1px solid #333; color: white; border-radius: 8px; font-size: 1rem; outline: none; box-sizing: border-box; }
        .btn { width: 100%; padding: 15px; background: var(--accent); color: white; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; transition: 0.2s; font-size: 1rem; }
        .btn:hover { transform: scale(1.02); }
        .toggle-link { margin-top: 20px; color: #555; font-size: 0.8rem; cursor: pointer; text-decoration: underline; }

        /* UI */
        .navbar { background: rgba(15, 23, 42, 0.95); padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #1e293b; position: sticky; top: 0; z-index: 1000; backdrop-filter: blur(5px); }
        .container { padding: 30px; max-width: 1400px; margin: auto; padding-bottom: 150px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
        .game-card { background: var(--card); border-radius: 15px; padding: 20px; text-align: center; border: 1px solid #1e293b; position: relative; cursor: pointer; transition: 0.3s; }
        .game-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .fav-star { position: absolute; top: 10px; right: 10px; color: rgba(255,255,255,0.1); font-size: 24px; z-index: 50; }
        .fav-star.active { color: #fbbf24; text-shadow: 0 0 10px #fbbf24; }

        /* ADMIN BAR */
        #adminToolbar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #0f172a; padding: 20px; border-radius: 15px; border: 2px solid #3b82f6; display: none; gap: 10px; z-index: 9000; box-shadow: 0 0 30px rgba(0,0,0,0.8); flex-wrap: wrap; justify-content: center; width: 90%; max-width: 900px; }
        .adm-inp { padding: 10px; background: #000; border: 1px solid #444; color: #fff; border-radius: 5px; width: 140px; }
        .adm-btn { padding: 10px 15px; border-radius: 5px; border: none; font-weight: bold; cursor: pointer; color: white; }

        /* OVERRIDE BUTTON (Invisible/Corner) */
        #bypassBtn { position: fixed; bottom: 5px; right: 5px; width: 15px; height: 15px; background: rgba(255,255,255,0.05); z-index: 300000; cursor: crosshair; border-radius: 50%; border: none; }
        #bypassBtn:hover { background: rgba(255,255,255,0.2); }

        /* OVERLAYS */
        #gameView { position: fixed; inset: 0; background: #000; z-index: 50000; display: none; flex-direction: column; }
        iframe { flex-grow: 1; border: none; }
        #hackerScreen { position: fixed; inset: 0; background: black; color: #0f0; font-family: monospace; padding: 20px; z-index: 150000; display: none; pointer-events: none; }
        #destructScreen { position: fixed; inset: 0; background: white; z-index: 200000; display: none; align-items: center; justify-content: center; color: black; transition: 3s; opacity: 0; }
    </style>
</head>
<body>

    <button id="bypassBtn" onclick="emergencyOverride()" title="System Override"></button>

    <div id="authLayer">
        <div id="plebLogin" class="login-box">
            <h1 class="hacker-title">MONGLE</h1>
            <p style="color:#64748b; letter-spacing: 2px;">V7.0 ROOT SECURE</p>
            <input type="text" id="plebName" class="input-field" placeholder="Username...">
            <button class="btn" onclick="login('pleb')">ENTER</button>
            <div class="toggle-link" onclick="swapLogin('admin')">[ ADMIN LOGIN ]</div>
            <div class="toggle-link" onclick="swapLogin('root')">[ ROOT LOGIN ]</div>
        </div>

        <div id="secureLogin" class="login-box" style="display:none; border-color: #ef4444;">
            <h1 id="secTitle" class="hacker-title" style="color:#ef4444;">ROOT</h1>
            <input type="password" id="secPass" class="input-field" placeholder="Password..." style="border-color: #ef4444;">
            <button class="btn" id="secBtn" style="background:#ef4444;">AUTH</button>
            <div class="toggle-link" onclick="swapLogin('pleb')">[ BACK ]</div>
        </div>
    </div>

    <div id="arcadeUI" style="display:none;">
        <div class="navbar">
            <div><span style="color:#4ade80;">‚óè ONLINE</span> <span id="userTag" style="color:#64748b; margin-left:10px;"></span></div>
            <div>
                <input type="text" id="search" onkeyup="search()" placeholder="Search..." style="padding:10px; background:#000; border:1px solid #333; color:white; border-radius:5px;">
                <button class="btn" style="width:auto; margin-left:10px; background:#334155;" onclick="openCloak()">üëÅÔ∏è CLOAK</button>
                <button class="btn" id="panicBtn" style="width:auto; background:#ef4444; margin-left:10px;">PANIC</button>
            </div>
        </div>

        <div class="container">
            <div id="favSec" style="display:none;"><h2 style="color:#fbbf24;">‚≠ê FAVORITES</h2><div id="favGrid" class="grid"></div></div>
            <div id="fnafSec" style="display:none;"><h2 style="color:#ef4444;">üêª FREDDY'S</h2><div id="fnafGrid" class="grid"></div></div>
            <h2 style="color:var(--accent);">üïπÔ∏è ALL GAMES</h2>
            <div id="mainGrid" class="grid"></div>
        </div>

        <div id="adminToolbar">
            <b id="permLevel" style="color:red; width:100%; text-align:center; display:block; margin-bottom:5px;"></b>
            <input id="bgInp" class="adm-inp" placeholder="BG URL">
            <button class="adm-btn" style="background:#3b82f6;" onclick="saveSet('mBg', document.getElementById('bgInp').value)">BG</button>
            <input id="iconInp" class="adm-inp" placeholder="Emoji">
            <button class="adm-btn" style="background:#3b82f6;" onclick="saveSet('mEmoji', document.getElementById('iconInp').value)">Emoji</button>
            <input id="panicInp" class="adm-inp" placeholder="Panic URL">
            <button class="adm-btn" style="background:#3b82f6;" onclick="saveSet('mPanic', document.getElementById('panicInp').value)">Panic</button>
            <button class="adm-btn" style="background:#f59e0b;" onclick="triggerPrank('hacker')">üî• HACKER</button>
            <button class="adm-btn" style="background:#ef4444;" onclick="triggerPrank('destruct')">‚ò¢Ô∏è DEATH</button>
            <button class="adm-btn" style="background:#10b981;" onclick="triggerPrank('')">‚ú® CLEAR</button>
        </div>
    </div>

    <div id="gameView"><button class="btn" style="position:fixed;top:10px;left:10px;width:100px;z-index:99999" onclick="closeGame()">EXIT</button><iframe id="gameFrame"></iframe></div>
    <div id="destructScreen"><h1>SYSTEM_FAILURE</h1></div>
    <div id="hackerScreen"></div>

    <script>
        const CONFIG = { 
            user: "bob154526-hue", 
            name: "Mongle", 
            adminPw: "1234", 
            rootPw: "MONGLE_OWNER_99" // CHANGE THIS TO YOUR SECRET PASSWORD
        };

        window.onload = () => {
            if(sessionStorage.getItem('mUser')) startArcade();
            applySettings();
            checkPranks();
        };

        window.addEventListener('storage', (e) => { if(['mPrank','mBg','mEmoji','mPanic'].includes(e.key)) location.reload(); });

        function swapLogin(mode) {
            const pleb = document.getElementById('plebLogin');
            const sec = document.getElementById('secureLogin');
            const title = document.getElementById('secTitle');
            const btn = document.getElementById('secBtn');

            if(mode === 'pleb') { pleb.style.display='block'; sec.style.display='none'; }
            else {
                pleb.style.display='none'; sec.style.display='block';
                title.innerText = mode.toUpperCase();
                title.style.color = mode === 'root' ? '#4ade80' : '#ef4444';
                btn.onclick = () => login(mode);
            }
        }

        function login(type) {
            const pass = document.getElementById('secPass').value;
            const name = document.getElementById('plebName').value.trim();

            if(type === 'pleb') {
                if(name.toLowerCase() === 'mongle') return alert("USERNAME BANNED: MONGLE IS RESERVED");
                sessionStorage.setItem('mUser', name || "Guest");
                sessionStorage.setItem('mRole', 'pleb');
            } else if(type === 'admin') {
                if(pass !== CONFIG.adminPw) return alert("WRONG ADMIN KEY");
                sessionStorage.setItem('mUser', 'Admin');
                sessionStorage.setItem('mRole', 'admin');
            } else if(type === 'root') {
                if(pass !== CONFIG.rootPw) return alert("WRONG ROOT KEY");
                sessionStorage.setItem('mUser', 'MONGLE_ROOT');
                sessionStorage.setItem('mRole', 'root');
            }
            startArcade();
        }

        function startArcade() {
            document.getElementById('authLayer').style.display = 'none';
            document.getElementById('arcadeUI').style.display = 'block';
            document.getElementById('userTag').innerText = sessionStorage.getItem('mUser');
            const role = sessionStorage.getItem('mRole');
            if(role === 'admin' || role === 'root') {
                document.getElementById('adminToolbar').style.display = 'flex';
                document.getElementById('permLevel').innerText = role === 'root' ? "--- ROOT ACCESS GRANTED ---" : "--- ADMIN ACCESS GRANTED ---";
            }
            loadGames();
        }

        // EMERGENCY OVERRIDE
        function emergencyOverride() {
            const code = prompt("Enter Master Code to Clear Pranks:");
            if(code === CONFIG.adminPw || code === CONFIG.rootPw) {
                localStorage.setItem('mPrank', '');
                location.reload();
            } else { alert("ACCESS DENIED"); }
        }

        function triggerPrank(p) { localStorage.setItem('mPrank', p); location.reload(); }
        function saveSet(k, v) { localStorage.setItem(k, v); location.reload(); }
        function applySettings() {
            const bg = localStorage.getItem('mBg'); if(bg) document.body.style.backgroundImage = `url('${bg}')`;
            const panic = localStorage.getItem('mPanic') || 'https://google.com';
            document.getElementById('panicBtn').onclick = () => location.replace(panic);
        }

        function checkPranks() {
            const p = localStorage.getItem('mPrank');
            if(p === 'destruct') { document.getElementById('destructScreen').style.display='flex'; setTimeout(()=>document.getElementById('destructScreen').style.opacity='1',100); }
            else if(p === 'hacker') {
                document.getElementById('hackerScreen').style.display='block';
                setInterval(()=>{
                    let d = document.createElement('div'); d.innerText = "> INJECTING_ROOT_EXPLOIT_" + Math.random().toString(16).slice(2,8);
                    document.getElementById('hackerScreen').appendChild(d);
                    if(document.getElementById('hackerScreen').childElementCount > 40) document.getElementById('hackerScreen').firstChild.remove();
                }, 80);
            }
        }

        async function loadGames() {
            const res = await fetch(`https://api.github.com/repos/${CONFIG.user}/${CONFIG.name}/contents/`);
            const files = await res.json();
            const favs = JSON.parse(localStorage.getItem('mFavs')) || [];
            const emoji = localStorage.getItem('mEmoji') || "üéÆ";

            files.forEach(file => {
                if(!file.name.endsWith('.html') || file.name === 'index.html') return;
                const name = file.name.replace('.html','');
                const isFav = favs.includes(file.name);
                const buildCard = (forFav) => {
                    const d = document.createElement('div'); d.className = 'game-card';
                    d.innerHTML = `<span class="fav-star ${isFav && !forFav ? 'active' : ''}" style="${forFav?'display:none':''}">‚òÖ</span><div style="font-size:45px">${emoji}</div><b>${name}</b>`;
                    if(!forFav) d.querySelector('.fav-star').onclick = (e) => { e.stopPropagation(); toggleFav(file.name); };
                    d.onclick = (e) => { if(!e.target.classList.contains('fav-star')) play(file.download_url); };
                    return d;
                };
                if(isFav) { document.getElementById('favSec').style.display='block'; document.getElementById('favGrid').appendChild(buildCard(true)); }
                if(name.toLowerCase().includes('fnaf') || name.toLowerCase().includes('freddy')) {
                    document.getElementById('fnafSec').style.display='block'; document.getElementById('fnafGrid').appendChild(buildCard(false));
                } else { document.getElementById('mainGrid').appendChild(buildCard(false)); }
            });
        }
        async function play(url) { const r = await fetch(url); const h = await r.text(); document.getElementById('gameView').style.display='flex'; document.getElementById('gameFrame').srcdoc = h; }
        function closeGame() { document.getElementById('gameView').style.display='none'; document.getElementById('gameFrame').srcdoc=""; }
        function toggleFav(n) { let f = JSON.parse(localStorage.getItem('mFavs')) || []; f = f.includes(n) ? f.filter(x=>x!==n) : [...f, n]; localStorage.setItem('mFavs', JSON.stringify(f)); location.reload(); }
        function search() { let q = document.getElementById('search').value.toLowerCase(); document.querySelectorAll('.game-card').forEach(c => c.style.display = c.innerText.toLowerCase().includes(q) ? 'block' : 'none'); }
        function openCloak() { let win = window.open('about:blank','_blank'); win.document.write(`<body style="margin:0"><iframe src="${location.href}" style="border:0; width:100%; height:100vh;"></iframe></body>`); location.href = localStorage.getItem('mPanic') || "https://google.com"; }
    </script>
</body>
</html>
