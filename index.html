<!DOCTYPE html>
<html>
<head>
    <title>Google Docs</title>
    <style>
        :root { --bg: #0b0f1a; --card: #161b22; --accent: #58a6ff; --text: #c9d1d9; --proxy: #ff7b72; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; overflow-x: hidden; }
        .navbar { background: var(--card); padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #30363d; position: sticky; top: 0; z-index: 1000; }
        .container { padding: 30px; max-width: 1200px; margin: 0 auto; }
        .section-title { text-align: left; margin: 40px 0 15px; padding-bottom: 10px; border-bottom: 1px solid #30363d; color: var(--accent); font-size: 1.6rem; font-weight: bold; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
        .game-card { display: flex; flex-direction: column; align-items: center; justify-content: center; background: var(--card); padding: 30px 10px; border-radius: 15px; border: 2px solid #30363d; cursor: pointer; transition: 0.2s; }
        .game-card:hover { border-color: var(--accent); transform: translateY(-5px); background: #1c2128; box-shadow: 0 10px 20px rgba(0,0,0,0.4); }
        .game-card .emoji { font-size: 50px; margin-bottom: 10px; }
        .game-card .name { font-weight: bold; font-size: 14px; text-align: center; color: white; }
        .btn-ui { background: #21262d; border: 1px solid #30363d; color: white; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-weight: bold; text-decoration: none; font-size: 14px; }
        #search { padding: 10px; border-radius: 8px; border: 1px solid #30363d; background: #0d1117; color: white; width: 180px; margin-right: 10px; }
        /* Secret Admin Button */
        .admin-lock { position: fixed; bottom: 15px; right: 15px; opacity: 0.3; transition: 0.3s; text-decoration: none; font-size: 20px; }
        .admin-lock:hover { opacity: 1; }
    </style>
</head>
<body>
    <div class="navbar">
        <div id="clock" style="font-family:monospace; color:var(--accent); font-size: 1.1rem;">00:00:00</div>
        <div>
            <input type="text" id="search" placeholder="Search..." onkeyup="filter()">
            <button class="btn-ui" onclick="autoScan()">üîÑ Refresh</button>
            <button class="btn-ui" onclick="panic()" style="color:#ff7b72; margin-left:5px;">üõë Panic</button>
        </div>
    </div>
    <div class="container">
        <h2 class="section-title">üïπÔ∏è Games</h2>
        <div id="gameGrid" class="grid">Scanning...</div>
        <h2 class="section-title" style="color:var(--proxy)">üåê Utilities</h2>
        <div id="proxyGrid" class="grid"></div>
    </div>
    <a href="wiki.html" class="admin-lock">‚öôÔ∏è</a>
    <script>
        const GITHUB_USER = "bob154526-hue"; const GITHUB_REPO = "Mongle";
        let customIcons = JSON.parse(localStorage.getItem('mongleIcons')) || {};
        function updateClock() { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }
        setInterval(updateClock, 1000); updateClock();
        function panic() { window.location.replace('https://classroom.google.com'); }
        function getSmartIcon(name, isProxy) {
            const n = name.toLowerCase(); if (customIcons[name]) return customIcons[name]; if (isProxy) return 'üåê';
            if (n.includes('freddy')) return 'üêª'; if (n.includes('minecraft')) return '‚õèÔ∏è'; if (n.includes('knight')) return '‚öîÔ∏è';
            if (n.includes('roulette')) return 'üé≤'; if (n.includes('terraria')) return 'üå≥'; if (n.includes('ultrakill')) return 'ü§ñ';
            if (n.includes('stick')) return 'ü§∫'; if (n.includes('people')) return 'üßç'; if (n.includes('school')) return 'üè´';
            return 'üéÆ';
        }
        function openGame(url) {
            const win = window.open('about:blank', '_blank');
            if (win) {
                const iframe = win.document.createElement('iframe');
                iframe.style = "position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;";
                iframe.src = window.location.origin + window.location.pathname.replace('index.html', '') + url;
                win.document.body.appendChild(iframe);
            }
        }
        async function autoScan() {
            try {
                const response = await fetch(`https://api.github.com/repos/${GITHUB_USER}/${GITHUB_REPO}/contents/`);
                const files = await response.json();
                const gameGrid = document.getElementById('gameGrid'); const proxyGrid = document.getElementById('proxyGrid');
                gameGrid.innerHTML = ""; proxyGrid.innerHTML = "";
                files.forEach(file => {
                    if (file.name.endsWith('.html') && !['index.html', 'wiki.html'].includes(file.name)) {
                        const isProxy = file.name.toLowerCase().includes('proxy') || file.name.toLowerCase().includes('soundboard');
                        const card = document.createElement('div'); card.className = 'game-card';
                        card.onclick = () => openGame(file.name);
                        card.innerHTML = `<div class="emoji">${getSmartIcon(file.name, isProxy)}</div><div class="name">${file.name.replace('.html', '')}</div>`;
                        if (isProxy) proxyGrid.appendChild(card); else gameGrid.appendChild(card);
                    }
                });
            } catch (e) { console.error(e); }
        }
        function filter() {
            let q = document.getElementById('search').value.toLowerCase();
            document.querySelectorAll('.game-card').forEach(c => c.style.display = c.innerText.toLowerCase().includes(q) ? "" : "none");
        }
        window.onkeydown = (e) => { if (e.key === "Escape") panic(); };
        autoScan();
    </script>
</body>
</html>
